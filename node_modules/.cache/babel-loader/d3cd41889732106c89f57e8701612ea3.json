{"ast":null,"code":"import { CLEAR_CART, UPDATE_CART_ITEM, UPDATE_CART_ITEM_QUANTITY } from '../Action/Action';\n\nconst addToCart = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n    items: []\n  };\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case UPDATE_CART_ITEM:\n      const item = action.payload;\n\n      if (item && item.quantity > 0) {\n        const index = state.items.findIndex(it => it.product._id === item.product._id);\n        const newItems = [...state.items];\n\n        if (index !== -1) {\n          newItems[index] = { ...item\n          };\n          return { ...state,\n            items: newItems\n          };\n        } else {\n          newItems.push({ ...item\n          });\n        }\n\n        return { ...state,\n          items: newItems\n        };\n      } else {\n        const items = state.items.filter(it => it.product._id !== item.product._id);\n        return { ...state,\n          items\n        };\n      }\n\n    default:\n      return state;\n  }\n};\n\nexport default addToCart;","map":{"version":3,"names":["CLEAR_CART","UPDATE_CART_ITEM","UPDATE_CART_ITEM_QUANTITY","addToCart","state","items","action","type","item","payload","quantity","index","findIndex","it","product","_id","newItems","push","filter"],"sources":["E:/react js/book-app-ecomm/src/Redux/Reducer/CartReducer.js"],"sourcesContent":["\r\nimport { CLEAR_CART, UPDATE_CART_ITEM,UPDATE_CART_ITEM_QUANTITY } from '../Action/Action';\r\n\r\nconst addToCart=(state = { items: [] },action)=>\r\n{\r\n    switch(action.type)\r\n    {\r\n\r\n        case UPDATE_CART_ITEM:\r\n            const item = action.payload;\r\n            if (item && item.quantity > 0) {\r\n                const index = state.items.findIndex(it => it.product._id === item.product._id);\r\n                const newItems = [...state.items];\r\n                if (index !== -1) {\r\n                    newItems[index] = { ...item };\r\n                    return { ...state, items: newItems };\r\n                } else {\r\n                    newItems.push({ ...item });\r\n                }\r\n                return { ...state, items: newItems };\r\n            } else {\r\n                const items = state.items.filter(it => it.product._id !== item.product._id);\r\n                return { ...state, items };\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default addToCart;"],"mappings":"AACA,SAASA,UAAT,EAAqBC,gBAArB,EAAsCC,yBAAtC,QAAuE,kBAAvE;;AAEA,MAAMC,SAAS,GAAC,YAChB;EAAA,IADiBC,KACjB,uEADyB;IAAEC,KAAK,EAAE;EAAT,CACzB;EAAA,IADuCC,MACvC;;EACI,QAAOA,MAAM,CAACC,IAAd;IAGI,KAAKN,gBAAL;MACI,MAAMO,IAAI,GAAGF,MAAM,CAACG,OAApB;;MACA,IAAID,IAAI,IAAIA,IAAI,CAACE,QAAL,GAAgB,CAA5B,EAA+B;QAC3B,MAAMC,KAAK,GAAGP,KAAK,CAACC,KAAN,CAAYO,SAAZ,CAAsBC,EAAE,IAAIA,EAAE,CAACC,OAAH,CAAWC,GAAX,KAAmBP,IAAI,CAACM,OAAL,CAAaC,GAA5D,CAAd;QACA,MAAMC,QAAQ,GAAG,CAAC,GAAGZ,KAAK,CAACC,KAAV,CAAjB;;QACA,IAAIM,KAAK,KAAK,CAAC,CAAf,EAAkB;UACdK,QAAQ,CAACL,KAAD,CAAR,GAAkB,EAAE,GAAGH;UAAL,CAAlB;UACA,OAAO,EAAE,GAAGJ,KAAL;YAAYC,KAAK,EAAEW;UAAnB,CAAP;QACH,CAHD,MAGO;UACHA,QAAQ,CAACC,IAAT,CAAc,EAAE,GAAGT;UAAL,CAAd;QACH;;QACD,OAAO,EAAE,GAAGJ,KAAL;UAAYC,KAAK,EAAEW;QAAnB,CAAP;MACH,CAVD,MAUO;QACH,MAAMX,KAAK,GAAGD,KAAK,CAACC,KAAN,CAAYa,MAAZ,CAAmBL,EAAE,IAAIA,EAAE,CAACC,OAAH,CAAWC,GAAX,KAAmBP,IAAI,CAACM,OAAL,CAAaC,GAAzD,CAAd;QACA,OAAO,EAAE,GAAGX,KAAL;UAAYC;QAAZ,CAAP;MACH;;IAEL;MACI,OAAOD,KAAP;EArBR;AAuBH,CAzBD;;AA2BA,eAAeD,SAAf"},"metadata":{},"sourceType":"module"}