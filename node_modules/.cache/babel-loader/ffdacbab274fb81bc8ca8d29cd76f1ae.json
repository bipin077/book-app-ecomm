{"ast":null,"code":"const initialState = {\n  cart: [],\n  totalItems: 0,\n  totalPrice: 0\n};\n\nconst addToCart = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case 'UPDATE_CART_ITEM':\n      const item = action.payload;\n\n      if (state.cart && state.totalItems > 0) {\n        const index = state.cart.findIndex(it => it.cart.id === item.id);\n        const newItems = [...state.cart];\n\n        if (index !== -1) {\n          newItems[index] = item;\n        }\n      } else {\n        state.cart.push(item);\n        state.totalItems = 1;\n        state.totalPrice = item.price;\n      }\n\n      return state;\n\n    default:\n      return state;\n  }\n};\n\nexport default addToCart;","map":{"version":3,"names":["initialState","cart","totalItems","totalPrice","addToCart","state","action","type","item","payload","index","findIndex","it","id","newItems","push","price"],"sources":["E:/react js/book-app-ecomm/src/Redux/Reducer/CartReducer.js"],"sourcesContent":["const initialState={ \r\n    cart: [],\r\n    totalItems:0,\r\n    totalPrice:0\r\n}\r\nconst addToCart=(state =initialState ,action)=>\r\n{\r\n    switch(action.type)\r\n    {\r\n        case 'UPDATE_CART_ITEM':\r\n            const item = action.payload;\r\n            if(state.cart && state.totalItems>0)\r\n            {\r\n                const index = state.cart.findIndex(it => it.cart.id === item.id);\r\n                const newItems = [...state.cart];\r\n                if(index!==-1)\r\n                {\r\n                    newItems[index]=item\r\n                }\r\n                \r\n            }\r\n            else{\r\n                state.cart.push(item);\r\n                state.totalItems=1;\r\n                state.totalPrice=item.price;\r\n            }\r\n            return state;\r\n        \r\n              \r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default addToCart;"],"mappings":"AAAA,MAAMA,YAAY,GAAC;EACfC,IAAI,EAAE,EADS;EAEfC,UAAU,EAAC,CAFI;EAGfC,UAAU,EAAC;AAHI,CAAnB;;AAKA,MAAMC,SAAS,GAAC,YAChB;EAAA,IADiBC,KACjB,uEADwBL,YACxB;EAAA,IADsCM,MACtC;;EACI,QAAOA,MAAM,CAACC,IAAd;IAEI,KAAK,kBAAL;MACI,MAAMC,IAAI,GAAGF,MAAM,CAACG,OAApB;;MACA,IAAGJ,KAAK,CAACJ,IAAN,IAAcI,KAAK,CAACH,UAAN,GAAiB,CAAlC,EACA;QACI,MAAMQ,KAAK,GAAGL,KAAK,CAACJ,IAAN,CAAWU,SAAX,CAAqBC,EAAE,IAAIA,EAAE,CAACX,IAAH,CAAQY,EAAR,KAAeL,IAAI,CAACK,EAA/C,CAAd;QACA,MAAMC,QAAQ,GAAG,CAAC,GAAGT,KAAK,CAACJ,IAAV,CAAjB;;QACA,IAAGS,KAAK,KAAG,CAAC,CAAZ,EACA;UACII,QAAQ,CAACJ,KAAD,CAAR,GAAgBF,IAAhB;QACH;MAEJ,CATD,MAUI;QACAH,KAAK,CAACJ,IAAN,CAAWc,IAAX,CAAgBP,IAAhB;QACAH,KAAK,CAACH,UAAN,GAAiB,CAAjB;QACAG,KAAK,CAACF,UAAN,GAAiBK,IAAI,CAACQ,KAAtB;MACH;;MACD,OAAOX,KAAP;;IAGJ;MACI,OAAOA,KAAP;EAvBR;AAyBH,CA3BD;;AA6BA,eAAeD,SAAf"},"metadata":{},"sourceType":"module"}