{"ast":null,"code":"let initialState = 0;\n\nconst addToCart = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case 'UPDATE_CART_ITEM':\n      const item = action.payload;\n\n      if (state.totalItems > 0) {\n        const index = state.cart.findIndex(it => it.id === item.id);\n        const newItems = [...state.cart];\n\n        if (index !== -1) {\n          newItems[index] = item;\n          return { ...state,\n            cart: newItems\n          };\n        } else {\n          newItems.push({ ...item\n          });\n        }\n\n        state.totalItems = state.cart.length + 1;\n        state.totalPrice = parseInt(state.totalPrice) + parseInt(item.price);\n        return { ...state,\n          cart: newItems\n        };\n      } else {\n        state.cart.push(item);\n        state.totalItems = 1;\n        state.totalPrice = item.price;\n      }\n\n      return state;\n\n    case 'REMOVE_CART_ITEM':\n      const id = action.payload;\n      const newItems = state.cart.filter(it => it.id !== id);\n      state.totalItems = state.totalItems - 1;\n      return { ...state,\n        cart: newItems\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default addToCart;","map":{"version":3,"names":["initialState","addToCart","state","action","type","item","payload","totalItems","index","cart","findIndex","it","id","newItems","push","length","totalPrice","parseInt","price","filter"],"sources":["C:/book-app-ecomm/src/Redux/Reducer/CartReducer.js"],"sourcesContent":["let initialState=0;\r\nconst addToCart=(state =initialState ,action)=>\r\n{\r\n    switch(action.type)\r\n    {\r\n        case 'UPDATE_CART_ITEM':\r\n            const item = action.payload;\r\n            if(state.totalItems>0)\r\n            {\r\n                const index = state.cart.findIndex(it => it.id === item.id);\r\n                const newItems = [...state.cart];\r\n                if(index!==-1)\r\n                {\r\n                    newItems[index]=item;\r\n                    return { ...state, cart: newItems };\r\n                } else {\r\n                    newItems.push({ ...item });\r\n                }\r\n                state.totalItems=state.cart.length+1;\r\n                state.totalPrice=parseInt(state.totalPrice)+parseInt(item.price);\r\n                \r\n                return { ...state, cart: newItems };\r\n            }\r\n            else{\r\n                state.cart.push(item);\r\n                state.totalItems=1;\r\n                state.totalPrice=item.price;\r\n            }\r\n\r\n            return state;\r\n        \r\n             \r\n        case 'REMOVE_CART_ITEM':\r\n            const id=action.payload;\r\n            const newItems = state.cart.filter(it => it.id !== id);\r\n            state.totalItems=state.totalItems-1;\r\n            return { ...state, cart: newItems };\r\n            \r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default addToCart;"],"mappings":"AAAA,IAAIA,YAAY,GAAC,CAAjB;;AACA,MAAMC,SAAS,GAAC,YAChB;EAAA,IADiBC,KACjB,uEADwBF,YACxB;EAAA,IADsCG,MACtC;;EACI,QAAOA,MAAM,CAACC,IAAd;IAEI,KAAK,kBAAL;MACI,MAAMC,IAAI,GAAGF,MAAM,CAACG,OAApB;;MACA,IAAGJ,KAAK,CAACK,UAAN,GAAiB,CAApB,EACA;QACI,MAAMC,KAAK,GAAGN,KAAK,CAACO,IAAN,CAAWC,SAAX,CAAqBC,EAAE,IAAIA,EAAE,CAACC,EAAH,KAAUP,IAAI,CAACO,EAA1C,CAAd;QACA,MAAMC,QAAQ,GAAG,CAAC,GAAGX,KAAK,CAACO,IAAV,CAAjB;;QACA,IAAGD,KAAK,KAAG,CAAC,CAAZ,EACA;UACIK,QAAQ,CAACL,KAAD,CAAR,GAAgBH,IAAhB;UACA,OAAO,EAAE,GAAGH,KAAL;YAAYO,IAAI,EAAEI;UAAlB,CAAP;QACH,CAJD,MAIO;UACHA,QAAQ,CAACC,IAAT,CAAc,EAAE,GAAGT;UAAL,CAAd;QACH;;QACDH,KAAK,CAACK,UAAN,GAAiBL,KAAK,CAACO,IAAN,CAAWM,MAAX,GAAkB,CAAnC;QACAb,KAAK,CAACc,UAAN,GAAiBC,QAAQ,CAACf,KAAK,CAACc,UAAP,CAAR,GAA2BC,QAAQ,CAACZ,IAAI,CAACa,KAAN,CAApD;QAEA,OAAO,EAAE,GAAGhB,KAAL;UAAYO,IAAI,EAAEI;QAAlB,CAAP;MACH,CAfD,MAgBI;QACAX,KAAK,CAACO,IAAN,CAAWK,IAAX,CAAgBT,IAAhB;QACAH,KAAK,CAACK,UAAN,GAAiB,CAAjB;QACAL,KAAK,CAACc,UAAN,GAAiBX,IAAI,CAACa,KAAtB;MACH;;MAED,OAAOhB,KAAP;;IAGJ,KAAK,kBAAL;MACI,MAAMU,EAAE,GAACT,MAAM,CAACG,OAAhB;MACA,MAAMO,QAAQ,GAAGX,KAAK,CAACO,IAAN,CAAWU,MAAX,CAAkBR,EAAE,IAAIA,EAAE,CAACC,EAAH,KAAUA,EAAlC,CAAjB;MACAV,KAAK,CAACK,UAAN,GAAiBL,KAAK,CAACK,UAAN,GAAiB,CAAlC;MACA,OAAO,EAAE,GAAGL,KAAL;QAAYO,IAAI,EAAEI;MAAlB,CAAP;;IAEJ;MACI,OAAOX,KAAP;EApCR;AAsCH,CAxCD;;AA0CA,eAAeD,SAAf"},"metadata":{},"sourceType":"module"}