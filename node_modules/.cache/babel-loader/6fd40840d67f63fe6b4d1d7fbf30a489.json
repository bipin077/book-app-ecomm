{"ast":null,"code":"const initialState = {\n  cart: [],\n  totalItems: 0,\n  totalPrice: 0\n};\n\nconst addToCart = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case 'UPDATE_CART_ITEM':\n      const item = action.payload;\n\n      if (state.cart && state.totalItems > 0) {\n        const index = state.cart.findIndex(it => it.id === item.id);\n        state.cart[index].push(item); // const newItems = [...state.cart];\n        // if(index!==-1)\n        // {\n        //     newItems[index]=item;\n        //     return { ...state, cart: newItems };\n        // } else {\n        //     newItems.push({ ...item });\n        // }\n        // state.totalItems=index;\n        // state.totalPrice=0;\n        // return { ...state, cart: newItems };\n      } else {\n        state.cart.push(item);\n        state.totalItems = 1;\n        state.totalPrice = item.price;\n      }\n\n      return state;\n\n    default:\n      return state;\n  }\n};\n\nexport default addToCart;","map":{"version":3,"names":["initialState","cart","totalItems","totalPrice","addToCart","state","action","type","item","payload","index","findIndex","it","id","push","price"],"sources":["E:/react js/book-app-ecomm/src/Redux/Reducer/CartReducer.js"],"sourcesContent":["const initialState={ \r\n    cart: [],\r\n    totalItems:0,\r\n    totalPrice:0\r\n}\r\nconst addToCart=(state =initialState ,action)=>\r\n{\r\n    switch(action.type)\r\n    {\r\n        case 'UPDATE_CART_ITEM':\r\n            const item = action.payload;\r\n            if(state.cart && state.totalItems>0)\r\n            {\r\n                const index = state.cart.findIndex(it => it.id === item.id);\r\n                state.cart[index].push(item);\r\n                // const newItems = [...state.cart];\r\n                // if(index!==-1)\r\n                // {\r\n                //     newItems[index]=item;\r\n                //     return { ...state, cart: newItems };\r\n                // } else {\r\n                //     newItems.push({ ...item });\r\n                // }\r\n                // state.totalItems=index;\r\n                // state.totalPrice=0;\r\n                // return { ...state, cart: newItems };\r\n                \r\n            }\r\n            else{\r\n                state.cart.push(item);\r\n                state.totalItems=1;\r\n                state.totalPrice=item.price;\r\n            }\r\n            return state;\r\n        \r\n              \r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default addToCart;"],"mappings":"AAAA,MAAMA,YAAY,GAAC;EACfC,IAAI,EAAE,EADS;EAEfC,UAAU,EAAC,CAFI;EAGfC,UAAU,EAAC;AAHI,CAAnB;;AAKA,MAAMC,SAAS,GAAC,YAChB;EAAA,IADiBC,KACjB,uEADwBL,YACxB;EAAA,IADsCM,MACtC;;EACI,QAAOA,MAAM,CAACC,IAAd;IAEI,KAAK,kBAAL;MACI,MAAMC,IAAI,GAAGF,MAAM,CAACG,OAApB;;MACA,IAAGJ,KAAK,CAACJ,IAAN,IAAcI,KAAK,CAACH,UAAN,GAAiB,CAAlC,EACA;QACI,MAAMQ,KAAK,GAAGL,KAAK,CAACJ,IAAN,CAAWU,SAAX,CAAqBC,EAAE,IAAIA,EAAE,CAACC,EAAH,KAAUL,IAAI,CAACK,EAA1C,CAAd;QACAR,KAAK,CAACJ,IAAN,CAAWS,KAAX,EAAkBI,IAAlB,CAAuBN,IAAvB,EAFJ,CAGI;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;MAEH,CAhBD,MAiBI;QACAH,KAAK,CAACJ,IAAN,CAAWa,IAAX,CAAgBN,IAAhB;QACAH,KAAK,CAACH,UAAN,GAAiB,CAAjB;QACAG,KAAK,CAACF,UAAN,GAAiBK,IAAI,CAACO,KAAtB;MACH;;MACD,OAAOV,KAAP;;IAGJ;MACI,OAAOA,KAAP;EA9BR;AAgCH,CAlCD;;AAoCA,eAAeD,SAAf"},"metadata":{},"sourceType":"module"}